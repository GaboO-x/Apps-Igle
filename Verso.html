<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Versículos Diarios</title>
    <!-- Font Awesome para los iconos -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            background-color: #f0f2f5;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            box-sizing: border-box;
        }
        h1 {
            color: #2c3e50;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-align: center;
        }
        .month-container {
            background-color: #ffffff;
            margin-bottom: 25px;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 700px;
            box-sizing: border-box;
        }
        .month-header { /* Nuevo estilo para el contenedor del título y botón de reinicio */
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px; /* Espacio debajo del encabezado del mes */
            border-bottom: 2px solid #e0e0e0; /* Mantenemos el separador aquí */
            padding-bottom: 10px; /* Padding para el separador */
        }
        .month-title {
            font-size: 1.6em; /* CAMBIO: Nombres de mes aún más pequeños */
            color: #34495e;
            cursor: pointer;
            display: flex; /* Para alinear el nombre del mes y el contador */
            align-items: center;
            transition: color 0.3s ease;
            margin-bottom: 0; /* Eliminado el margen inferior, ahora lo maneja month-header */
        }
        .month-title:hover {
            color: #2980b9;
        }
        .month-title::after {
            content: '+';
            font-size: 1em; /* CAMBIO: Icono de expansión más pequeño */
            font-weight: bold;
            transition: transform 0.3s ease;
            margin-left: 15px; /* Espacio entre el contador y el icono de expansión */
        }
        .month-title.active::after {
            content: '-';
            transform: rotate(180deg);
        }
        .month-counter {
            font-size: 0.7em; /* Más pequeño que el título del mes */
            font-weight: normal;
            color: #7f8c8d;
            margin-left: 5px; /* Reducido el espacio para acercarlo al mes */
            background-color: #e0e0e0;
            padding: 5px 10px;
            border-radius: 5px;
        }
        .content {
            display: none;
            padding-top: 10px;
        }
        .verse-display-area {
            min-height: 150px; /* Altura mínima para evitar saltos de diseño */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        .verse-card {
            background-color: #ecf0f1;
            margin-bottom: 15px;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            border-left: 5px solid #3498db;
            transition: transform 0.2s ease-in-out;
            width: 100%;
            box-sizing: border-box;
            opacity: 0; /* Inicialmente oculto para la animación */
            transform: translateX(100%); /* Fuera de la vista a la derecha */
            animation: slideIn 0.5s forwards; /* Animación de entrada */
        }
        .verse-card.slide-out-left {
            animation: slideOutLeft 0.5s forwards;
        }
        .verse-card.slide-out-right {
            animation: slideOutRight 0.5s forwards;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(100%); }
            to { opacity: 1; transform: translateX(0); }
        }
        @keyframes slideOutLeft {
            from { opacity: 1; transform: translateX(0); }
            to { opacity: 0; transform: translateX(-100%); }
        }
        @keyframes slideOutRight {
            from { opacity: 1; transform: translateX(0); }
            to { opacity: 0; transform: translateX(100%); }
        }

        .verse-reference {
            font-weight: bold;
            text-align: left;
            display: block;
            color: #7f8c8d;
            font-size: 1.1em;
            margin-bottom: 10px;
        }
        .verse-text {
            font-style: italic;
            margin-bottom: 0;
            color: #2c3e50;
            line-height: 1.6;
            font-size: 1.2em;
        }
        .controls {
            display: flex;
            justify-content: space-between; /* Alinea los elementos a los extremos */
            margin-top: 20px;
            width: 100%;
        }
        .controls button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em; /* Ajustado para que el icono tenga un buen tamaño */
            font-weight: bold;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .controls button i {
            margin-right: 8px;
            font-size: 1.2em;
        }
        .controls button:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
        }
        .controls button:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .controls button.know {
            background-color: #27ae60;
        }
        .controls button.know:hover {
            background-color: #229954;
        }
        .controls button.dont-know {
            background-color: #e74c3c;
        }
        .controls button.dont-know:hover {
            background-color: #c0392b;
        }
        .reset-button {
            background-color: #f39c12;
            color: white;
            border: none;
            padding: 8px 15px; /* Ajustado el padding para que sea más compacto */
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.8em; /* Ajustado el tamaño de fuente */
            transition: background-color 0.3s ease;
            display: flex; /* Para alinear el icono y el texto */
            align-items: center;
            justify-content: center;
        }
        .reset-button i { /* Estilo específico para el icono dentro del botón de reinicio */
            /* margin-right: 5px; */ /* Eliminado el margen derecho para que solo quede el icono */
        }
        .reset-button:hover {
            background-color: #e67e22;
        }
        .completion-message {
            text-align: center;
            font-size: 1.2em;
            font-weight: bold;
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }
        .completion-message.success {
            color: #27ae60;
            background-color: #e6ffe6;
            border: 1px solid #27ae60;
        }
        .completion-message.failure {
            color: #e74c3c;
            background-color: #ffe6e6;
            border: 1px solid #e74c3c;
        }

        /* Estilos para pantallas pequeñas (móviles) */
        @media (max-width: 768px) {
            body {
                padding: 15px;
            }
            h1 {
                font-size: 2em;
                margin-bottom: 20px;
            }
            .month-container {
                padding: 15px;
            }
            .month-title {
                font-size: 1.4em; /* CAMBIO: Ajuste para pantallas pequeñas (aún más pequeño) */
            }
            .month-counter {
                font-size: 0.6em;
            }
            .reset-button {
                padding: 6px 12px;
                font-size: 0.7em;
            }
            .verse-card {
                padding: 15px;
            }
            .verse-reference {
                font-size: 1em;
            }
            .verse-text {
                font-size: 1.1em;
            }
            .controls button {
                padding: 10px 20px;
                font-size: 0.9em;
            }
        }
    </style>
</head>
<body>

    <h1>Versículos para Aprender</h1>

    <!-- Contenedores de Meses -->
    <div class="month-container">
        <div class="month-header">
            <h2 class="month-title" onclick="toggleContent('january', this)">ENERO <span class="month-counter" id="january-counter"></span></h2>
            <button class="reset-button" onclick="resetMonthProgress('january')"><i class="fas fa-redo"></i></button>
        </div>
        <div id="january" class="content">
            <div class="verse-display-area" id="january-display-area">
                <!-- Los versículos se cargarán aquí dinámicamente -->
            </div>
            <div class="controls">
                <button class="dont-know" onclick="markVerse('january', false)"><i class="fas fa-thumbs-down"></i> No lo sé</button>
                <button class="know" onclick="markVerse('january', true)"><i class="fas fa-thumbs-up"></i> Lo sé</button>
            </div>
        </div>
    </div>

    <div class="month-container">
        <div class="month-header">
            <h2 class="month-title" onclick="toggleContent('february', this)">FEBRERO <span class="month-counter" id="february-counter"></span></h2>
            <button class="reset-button" onclick="resetMonthProgress('february')"><i class="fas fa-redo"></i></button>
        </div>
        <div id="february" class="content">
            <div class="verse-display-area" id="february-display-area"></div>
            <div class="controls">
                <button class="dont-know" onclick="markVerse('february', false)"><i class="fas fa-thumbs-down"></i> No lo sé</button>
                <button class="know" onclick="markVerse('february', true)"><i class="fas fa-thumbs-up"></i> Lo sé</button>
            </div>
        </div>
    </div>

    <div class="month-container">
        <div class="month-header">
            <h2 class="month-title" onclick="toggleContent('march', this)">MARZO <span class="month-counter" id="march-counter"></span></h2>
            <button class="reset-button" onclick="resetMonthProgress('march')"><i class="fas fa-redo"></i></button>
        </div>
        <div id="march" class="content">
            <div class="verse-display-area" id="march-display-area"></div>
            <div class="controls">
                <button class="dont-know" onclick="markVerse('march', false)"><i class="fas fa-thumbs-down"></i> No lo sé</button>
                <button class="know" onclick="markVerse('march', true)"><i class="fas fa-thumbs-up"></i> Lo sé</button>
            </div>
        </div>
    </div>

    <div class="month-container">
        <div class="month-header">
            <h2 class="month-title" onclick="toggleContent('april', this)">ABRIL <span class="month-counter" id="april-counter"></span></h2>
            <button class="reset-button" onclick="resetMonthProgress('april')"><i class="fas fa-redo"></i></button>
        </div>
        <div id="april" class="content">
            <div class="verse-display-area" id="april-display-area"></div>
            <div class="controls">
                <button class="dont-know" onclick="markVerse('april', false)"><i class="fas fa-thumbs-down"></i> No lo sé</button>
                <button class="know" onclick="markVerse('april', true)"><i class="fas fa-thumbs-up"></i> Lo sé</button>
            </div>
        </div>
    </div>

    <div class="month-container">
        <div class="month-header">
            <h2 class="month-title" onclick="toggleContent('may', this)">MAYO <span class="month-counter" id="may-counter"></span></h2>
            <button class="reset-button" onclick="resetMonthProgress('may')"><i class="fas fa-redo"></i></button>
        </div>
        <div id="may" class="content">
            <div class="verse-display-area" id="may-display-area"></div>
            <div class="controls">
                <button class="dont-know" onclick="markVerse('may', false)"><i class="fas fa-thumbs-down"></i> No lo sé</button>
                <button class="know" onclick="markVerse('may', true)"><i class="fas fa-thumbs-up"></i> Lo sé</button>
            </div>
        </div>
    </div>

    <div class="month-container">
        <div class="month-header">
            <h2 class="month-title" onclick="toggleContent('june', this)">JUNIO <span class="month-counter" id="june-counter"></span></h2>
            <button class="reset-button" onclick="resetMonthProgress('june')"><i class="fas fa-redo"></i></button>
        </div>
        <div id="june" class="content">
            <div class="verse-display-area" id="june-display-area"></div>
            <div class="controls">
                <button class="dont-know" onclick="markVerse('june', false)"><i class="fas fa-thumbs-down"></i> No lo sé</button>
                <button class="know" onclick="markVerse('june', true)"><i class="fas fa-thumbs-up"></i> Lo sé</button>
            </div>
        </div>
    </div>

    <div class="month-container">
        <div class="month-header">
            <h2 class="month-title" onclick="toggleContent('july', this)">JULIO <span class="month-counter" id="july-counter"></span></h2>
            <button class="reset-button" onclick="resetMonthProgress('july')"><i class="fas fa-redo"></i></button>
        </div>
        <div id="july" class="content">
            <div class="verse-display-area" id="july-display-area"></div>
            <div class="controls">
                <button class="dont-know" onclick="markVerse('july', false)"><i class="fas fa-thumbs-down"></i> No lo sé</button>
                <button class="know" onclick="markVerse('july', true)"><i class="fas fa-thumbs-up"></i> Lo sé</button>
            </div>
        </div>
    </div>

    <div class="month-container">
        <div class="month-header">
            <h2 class="month-title" onclick="toggleContent('august', this)">AGOSTO <span class="month-counter" id="august-counter"></span></h2>
            <button class="reset-button" onclick="resetMonthProgress('august')"><i class="fas fa-redo"></i></button>
        </div>
        <div id="august" class="content">
            <div class="verse-display-area" id="august-display-area"></div>
            <div class="controls">
                <button class="dont-know" onclick="markVerse('august', false)"><i class="fas fa-thumbs-down"></i> No lo sé</button>
                <button class="know" onclick="markVerse('august', true)"><i class="fas fa-thumbs-up"></i> Lo sé</sbutton>
            </div>
        </div>
    </div>

    <div class="month-container">
        <div class="month-header">
            <h2 class="month-title" onclick="toggleContent('september', this)">SETIEMBRE <span class="month-counter" id="september-counter"></span></h2>
            <button class="reset-button" onclick="resetMonthProgress('september')"><i class="fas fa-redo"></i></button>
        </div>
        <div id="september" class="content">
            <div class="verse-display-area" id="september-display-area"></div>
            <div class="controls">
                <button class="dont-know" onclick="markVerse('september', false)"><i class="fas fa-thumbs-down"></i> No lo sé</button>
                <button class="know" onclick="markVerse('september', true)"><i class="fas fa-thumbs-up"></i> Lo sé</button>
            </div>
        </div>
    </div>

    <div class="month-container">
        <div class="month-header">
            <h2 class="month-title" onclick="toggleContent('october', this)">OCTUBRE <span class="month-counter" id="october-counter"></span></h2>
            <button class="reset-button" onclick="resetMonthProgress('october')"><i class="fas fa-redo"></i></button>
        </div>
        <div id="october" class="content">
            <div class="verse-display-area" id="october-display-area"></div>
            <div class="controls">
                <button class="dont-know" onclick="markVerse('october', false)"><i class="fas fa-thumbs-down"></i> No lo sé</button>
                <button class="know" onclick="markVerse('october', true)"><i class="fas fa-thumbs-up"></i> Lo sé</button>
            </div>
        </div>
    </div>

    <div class="month-container">
        <div class="month-header">
            <h2 class="month-title" onclick="toggleContent('november', this)">NOVIEMBRE <span class="month-counter" id="november-counter"></span></h2>
            <button class="reset-button" onclick="resetMonthProgress('november')"><i class="fas fa-redo"></i></button>
        </div>
        <div id="november" class="content">
            <div class="verse-display-area" id="november-display-area"></div>
            <div class="controls">
                <button class="dont-know" onclick="markVerse('november', false)"><i class="fas fa-thumbs-down"></i> No lo sé</button>
                <button class="know" onclick="markVerse('november', true)"><i class="fas fa-thumbs-up"></i> Lo sé</button>
            </div>
        </div>
    </div>

    <div class="month-container">
        <div class="month-header">
            <h2 class="month-title" onclick="toggleContent('december', this)">DICIEMBRE <span class="month-counter" id="december-counter"></span></h2>
            <button class="reset-button" onclick="resetMonthProgress('december')"><i class="fas fa-redo"></i></button>
        </div>
        <div id="december" class="content">
            <div class="verse-display-area" id="december-display-area"></div>
            <div class="controls">
                <button class="dont-know" onclick="markVerse('december', false)"><i class="fas fa-thumbs-down"></i> No lo sé</button>
                <button class="know" onclick="markVerse('december', true)"><i class="fas fa-thumbs-up"></i> Lo sé</button>
            </div>
        </div>
    </div>

    <script>
        // Objeto para almacenar los versículos y su estado
        // Se inicializa con los datos por defecto, que serán sobrescritos si hay datos guardados
        let versesData = {
            'january': [
                { text: "Además escoge tú de entre todo el pueblo varones de virtud, temerosos de Dios, varones de verdad, que aborrezcan la avaricia; y ponlos sobre el pueblo por jefes de millares, de centenas, de cincuenta y de diez.", reference: "Éx.18:21", known: false },
                { text: "Jehová te bendiga, y te guarde; Jehová haga resplandecer su rostro sobre ti, y tenga de ti misericordia; Jehová alce sobre ti su rostro, y ponga en ti paz.", reference: "Num.6:24-26", known: false },
                { text: "Ahora, pues, Israel, ¿qué pide Jehová tu Dios de ti, sino que temas a Jehová tu Dios, que andes en todos sus caminos, y que lo ames, y sirvas a Jehová tu Dios con todo tu corazón y con toda tu alma; que guardes los mandamientos de Jehová y sus estatutos, que yo te prescribo hoy, para que tengas prosperidad?... Él es el objeto de tu alabanza, y él es tu Dios, que ha hecho contigo estas cosas grandes y terribles que tus ojos han visto.", reference: "Dt.10:12-13, 21", known: false },
                { text: "Nunca se apartará de tu boca este libro de la ley, sino que de día y de noche meditarás en él, para que guardes y hagas conforme a todo lo que en él está escrito; porque entonces harás prosperar tu camino, y todo te saldrá bien. Mira que te mando que te esfuerces y seas valiente; no temas ni desmayes, porque Jehová tu Dios estará contigo en dondequiera que vayas.", reference: "Jos.1:8-9", known: false }
            ],
            'february': [
                { text: "E invocó Jabes al Dios de Israel, diciendo: ¡Oh, si me dieras bendición, y ensancharas mi territorio, y si tu mano estuviera conmigo, y me libraras de mal, para que no me dañe! Y le otorgó Dios lo que pidió.", reference: "1Cr.4:10", known: false },
                { text: "si se humillare mi pueblo, sobre el cual mi nombre es invocado, y oraren, y buscaren mi rostro, y se convirtieren de sus malos caminos; entonces yo oiré desde los cielos, y perdonaré sus pecados, y sanaré su tierra.", reference: "2Cr.7:14", known: false },
                { text: "Y en respuesta les dije: El Dios de los cielos, él nos prosperará, y nosotros sus siervos nos levantaremos y edificaremos, porque vosotros no tenéis parte ni derecho ni memoria en Jerusalén.", reference: "Neh.2:20", known: false },
                { text: "Te amo, oh Jehová, fortaleza mía. Jehová, roca mía y castillo mío, y mi libertador; Dios mío, fortaleza mía, en él confiaré; Mi escudo, y la fuerza de mi salvación, mi alto refugio.", reference: "Sal.18:1-2", known: false }
            ],
            'march': [
                { text: "¡Cuán preciosos me son, oh Dios, tus pensamientos! ¡Cuán grande es la suma de ellos! Si los enumero, se multiplican más que la arena; Despierto, y aún estoy contigo.", reference: "Salmos 139:17-18", known: false },
                { text: "Del fruto de la boca del hombre se llenará su vientre; Se saciará del producto de sus labios. La muerte y la vida están en poder de la lengua, Y el que la ama comerá de sus frutos.", reference: "Pr.18:20-21", known: false },
                { text: "Y reposará sobre él el Espíritu de Jehová; espíritu de sabiduría y de inteligencia, espíritu de consejo y de poder, espíritu de conocimiento y de temor de Jehová.", reference: "Is.11:2", known: false },
                { text: "Ciertamente llevó él nuestras enfermedades, y sufrió nuestros dolores; y nosotros le tuvimos por azotado, por herido de Dios y abatido. Mas él herido fue por nuestras rebeliones, molido por nuestros pecados; el castigo de nuestra paz fue sobre él, y por su llaga fuimos nosotros curados.", reference: "Is.53:4-5", known: false }
            ],
            'april': [
                { text: "Porque yo sé los pensamientos que tengo acerca de vosotros, dice Jehová, pensamientos de paz, y no de mal, para daros el fin que esperáis.", reference: "Jer.29:11", known: false },
                { text: "Os daré corazón nuevo, y pondré espíritu nuevo dentro de vosotros; y quitaré de vuestra carne el corazón de piedra, y os daré un corazón de carne. Y pondré dentro de vosotros mi Espíritu, y haré que andéis en mis estatutos, y guardéis mis preceptos, y los pongáis por obra.", reference: "Ez.36:26-27", known: false },
                { text: "Y Jesús se acercó y les habló diciendo: Toda potestad me es dada en el cielo y en la tierra. Por tanto, id, y haced discípulos a todas las naciones, bautizándolos en el nombre del Padre, y del Hijo, y del Espíritu Santo; enseñándoles que guarden todas las cosas que os he mandado; y he aquí yo estoy con vosotros todos los días, hasta el fin del mundo. Amén.", reference: "Mt.28:18-20", known: false },
                { text: "Porque de cierto os digo que cualquiera que dijere a este monte: Quítate y échate en el mar, y no dudare en su corazón, sino creyere que será hecho lo que dice, lo que diga le será hecho. Por tanto, os digo que todo lo que pidiereis orando, creed que lo recibiréis, y os vendrá.", reference: "Mr.11:23-24", known: false }
            ],
            'may': [
                { text: "El Espíritu del Señor está sobre mí, Por cuanto me ha ungido para dar buenas nuevas a los pobres; Me ha enviado a sanar a los quebrantados de corazón; A pregonar libertad a los cautivos, Y vista a los ciegos; A poner en libertad a los oprimidos; A predicar el año agradable del Señor.", reference: "Lc.4:18-19", known: false },
                { text: "Respondió Jesús y le dijo: De cierto, de cierto te digo, que el que no naciere de nuevo, no puede ver el reino de Dios. Respondió Jesús: De cierto, de cierto te digo, que el que no naciere de agua y del Espíritu, no puede entrar en el reino de Dios.", reference: "Jn.3:3, 5", known: false },
                { text: "Mas el Consolador, el Espíritu Santo, a quien el Padre enviará en mi nombre, él os enseñará todas las cosas, y os recordará todo lo que yo os he dicho.", reference: "Jn.14:26", known: false },
                { text: "Pero cuando venga el Espíritu de verdad, él os guiará a toda la verdad; porque no hablará por su propia cuenta, sino que hablará todo lo que oyere, y os hará saber las cosas que habrán de venir.", reference: "Jn.16:13", known: false }
            ],
            'june': [
                { text: "Porque no me avergüenzo del evangelio, porque es poder de Dios para salvación a todo aquel que cree; al judío primeramente, y también al griego. Porque en el evangelio la justicia de Dios se revela por fe y para fe, como está escrito: Mas el justo por la fe vivirá.", reference: "Rom.1:16-17", known: false },
                { text: "Pero el don no fue como la transgresión; porque si por la transgresión de aquel uno murieron los muchos, abundaron mucho más para los muchos la gracia y el don de Dios por la gracia de un hombre, Jesucristo.", reference: "Rom.5:15", known: false },
                { text: "Mas ahora que habéis sido libertados del pecado y hechos siervos de Dios, tenéis por vuestro fruto la santificación, y como fin, la vida eterna. Porque la paga del pecado es muerte, mas la dádiva de Dios es vida eterna en Cristo Jesús Señor nuestro.", reference: "Rom.6:22-23", known: false },
                { text: "Y si el Espíritu de aquel que levantó de los muertos a Jesús mora en vosotros, el que levantó de los muertos a Cristo Jesús vivificará también vuestros cuerpos mortales por su Espiritu que mora en vosotros.", reference: "Rom.8:11", known: false }
            ],
            'july': [
                { text: "Y de igual manera el Espíritu nos ayuda en nuestra debilidad; pues qué hemos de pedir como conviene, no lo sabemos, pero el Espíritu mismo intercede por nosotros con gemidos indecibles. Mas el que escudriña los corazones sabe cuál es la intención del Espíritu, porque conforme a la voluntad de Dios intercede por los santos.", reference: "Rom.8:26-27", known: false },
                { text: "Antes, en todas estas cosas somos más que vencedores por medio de aquel que nos amó. Por lo cual estoy seguro de que ni la muerte, ni la vida, ni ángeles, ni principados, ni potestades, ni lo presente, ni lo por venir, ni lo alto, ni lo profundo, ni ninguna otra cosa creada nos podrá separar del amor de Dios, que es en Cristo Jesús Señor nuestro.", reference: "Rom.8:37-39", known: false },
                { text: "Qué, pues, diremos? ¿Que hay injusticia en Dios? En ninguna manera. Pues a Moisés dice: Tendré misericordia del que yo tenga misericordia, y me compadeceré del que yo me compadezca. Así que no depende del que quiere, ni del que corre, sino de Dios que tiene misericordia.", reference: "Romanos 9:14-16", known: false },
                { text: "que si confesares con tu boca que Jesús es el Señor, y creyeres en tu corazón que Dios le levantó de los muertos, serás salvo.", reference: "Rom.10:9", known: false }
            ],
            'august': [
                { text: "Así que la fe es por el oír, y el oír, por la palabra de Dios.", reference: "Rom.10:17", known: false },
                { text: "Porque de él, y por él, y para él, son todas las cosas. A él sea la gloria por los siglos. Amén.", reference: "Rom. 11:36", known: false },
                { text: "Así que, hermanos, os ruego por las misericordias de Dios, que presentéis vuestros cuerpos en sacrificio vivo, santo, agradable a Dios, que es vuestro culto racional. No os conforméis a este siglo, sino transformaos por medio de la renovación de vuestro entendimiento, para que comprobéis cuál sea la buena voluntad de Dios, agradable y perfecta.", reference: "Rom.12:1-2", known: false },
                { text: "0 ignoráis que vuestro cuerpo es templo del Espíritu Santo, el cual está en vosotros, el cual tenéis de Dios, y que no sois vuestros? Porque habéis sido comprados por precio; glorificad, pues, a Dios en vuestro cuerpo y en vuestro espíritu, los cuales son de Dios.", reference: "1Co.6:19-20", known: false }
            ],
            'september': [
                { text: "Así que, el que piensa estar firme, mire que no caiga. No os ha sobrevenido ninguna tentación que no sea humana; pero fiel es Dios, que no os dejará ser tentados más de lo que podéis resistir, sino que dará también juntamente con la tentación la salida, para que podáis soportar.", reference: "1 Corintios 10:12-13", known: false },
                { text: "Pero por la gracia de Dios soy lo que soy; y su gracia no ha sido en vano para conmigo, antes he trabajado más que todos ellos; pero no yo, sino la gracia de Dios conmigo.", reference: "1Co.15:10", known: false },
                { text: "Mas gracias sean dadas a Dios, que nos da la victoria por medio de nuestro Señor Jesucristo. Así que, hermanos míos amados, estad firmes y constantes, creciendo en la obra del Señor siempre, sabiendo que vuestro trabajo en el Señor no es en vano.", reference: "1Co.15:57-58", known: false },
                { text: "Mas a Dios gracias, el cual nos lleva siempre en triunfo en Cristo Jesús, y por medio de nosotros manifiesta en todo lugar el olor de su conocimiento.", reference: "2Co.2:14", known: false }
            ],
            'october': [
                { text: "Con Cristo estoy juntamente crucificado, y ya no vivo yo, mas vive Cristo en mí; y lo que ahora vivo en la carne, lo vivo en la fe del Hijo de Dios, el cual me amó y se entregó a sí mismo por mí.", reference: "Ga.2:20", known: false },
                { text: "Sed, pues, imitadores de Dios como hijos amados. Y andad en amor, como también Cristo nos amó, y se entregó a sí mismo por nosotros, ofrenda y sacrificio a Dios en olor fragante. Pero fornicación y toda inmundicia, o avaricia, ni aun se nombre entre vosotros, como conviene a santos; ni palabras deshonestas, ni necedades, ni truhanerías, que no convienen, sino antes bien acciones de gracias.", reference: "Efesios 5: 1-4", known: false },
                { text: "Hermanos, yo mismo no pretendo haberlo ya alcanzado; pero una cosa hago: olvidando ciertamente lo que queda atrás, y extendiéndome a lo que está delante, prosigo a la meta, al premio del supremo llamamiento de Dios en Cristo Jesús.", reference: "Filp.3:13-14", known: false },
                { text: "Porque en él habita corporalmente toda la plenitud de la Deidad, y vosotros estáis completos en él, que es la cabeza de todo principado y potestad.", reference: "Col.2:9-10", known: false }
            ],
            'november': [
                { text: "Por tanto, al Rey de los siglos, inmortal, invisible, al único y sabio Dios, sea honor y gloria por los siglos de los siglos. Amén.", reference: "1Tim.1:17", known: false },
                { text: "Toda la Escritura es inspirada por Dios, y útil para enseñar, para redargüir, para corregir, para instruir en justicia, a fin de que el hombre de Dios sea perfecto, enteramente preparado para toda buena obra.", reference: "2Tim.3:16-17", known: false },
                { text: "Porque la palabra de Dios es viva y eficaz, y más cortante que toda espada de dos filos; y penetra hasta partir el alma y el espíritu, las coyunturas y los tuétanos, y discierne los pensamientos y las intenciones del corazón.", reference: "Heb.4:12", known: false },
                { text: "Pero nosotros no somos de los que retroceden para perdición, sino de los que tienen fe para preservación del alma.", reference: "Heb. 10:39", known: false }
            ],
            'december': [
                { text: "Bienaventurado el varón que soporta la tentación; porque cuando haya resistido la prueba, recibirá la corona de vida, que Dios ha prometido a los que le aman.", reference: "St. 1:12", known: false },
                { text: "Mas vosotros sois linaje escogido, real sacerdocio, nación santa, pueblo adquirido por Dios, para que anunciéis las virtudes de aquel que os llamó de las tinieblas a su luz admirable;", reference: "1P.2:9", known: false },
                { text: "Y a aquel que es poderoso para guardaros sin caida, y presentaros sin mancha delante de su gloria con gran alegría, al único y sabio Dios, nuestro Salvador, sea gloria y majestad, imperio y potencia, ahora y por todos los siglos. Amén.", reference: "Jud.24-25", known: false },
                { text: "Por cuanto has guardado la palabra de mi paciencia, yo también te guardaré de la hora de la prueba que ha de venir sobre el mundo entero, para probar a los que moran sobre la tierra.", reference: "Ap.3:10", known: false }
            ]
        };

        // Objeto para mantener el estado actual de cada mes (índice del versículo actual y conteo de conocidos)
        // Se inicializa con valores por defecto, que serán sobrescritos si hay datos guardados
        const monthStates = {};

        // Función para guardar el estado actual en localStorage
        function saveState() {
            try {
                localStorage.setItem('versesData', JSON.stringify(versesData));
                localStorage.setItem('monthStates', JSON.stringify(monthStates));
            } catch (e) {
                console.error("Error al guardar en localStorage:", e);
            }
        }

        // Función para cargar el estado desde localStorage
        function loadState() {
            try {
                const savedVersesData = localStorage.getItem('versesData');
                const savedMonthStates = localStorage.getItem('monthStates');

                if (savedVersesData) {
                    // Si hay datos guardados, los parseamos y los usamos
                    const parsedVersesData = JSON.parse(savedVersesData);
                    // Fusionar los datos guardados con los datos por defecto
                    // Esto es útil si añades nuevos versículos en el futuro
                    for (const monthId in versesData) {
                        if (parsedVersesData[monthId]) {
                            // Asegurarse de que cada versículo en los datos guardados tiene la propiedad 'known'
                            parsedVersesData[monthId].forEach((verse, index) => {
                                if (versesData[monthId][index]) { // Asegurarse de que el versículo existe en los datos por defecto
                                    versesData[monthId][index].known = verse.known !== undefined ? verse.known : false;
                                }
                            });
                        }
                    }
                }

                if (savedMonthStates) {
                    const parsedMonthStates = JSON.parse(savedMonthStates);
                    // Fusionar los estados guardados con los estados por defecto
                    for (const monthId in monthStates) {
                        if (parsedMonthStates[monthId]) {
                            monthStates[monthId].currentIndex = parsedMonthStates[monthId].currentIndex;
                            monthStates[monthId].knownCount = parsedMonthStates[monthId].knownCount;
                        }
                    }
                }
            } catch (e) {
                console.error("Error al cargar desde localStorage:", e);
                // Si hay un error al cargar, reinicializar a los valores por defecto
                resetAllProgress();
            }
        }

        // Inicializar el estado de cada mes con los datos por defecto
        for (const monthId in versesData) {
            monthStates[monthId] = {
                currentIndex: 0,
                knownCount: 0,
                totalVerses: versesData[monthId].length
            };
        }

        /**
         * Alterna la visibilidad del contenido de un mes y renderiza el primer versículo.
         * @param {string} id - El ID del contenedor del mes (ej. 'january').
         * @param {HTMLElement} titleElement - El elemento H2 del título del mes.
         */
        function toggleContent(id, titleElement) {
            const contentElement = document.getElementById(id);
            const displayArea = document.getElementById(`${id}-display-area`);

            if (contentElement.style.display === "none" || contentElement.style.display === "") {
                contentElement.style.display = "block";
                titleElement.classList.add('active');
                // Al abrir, renderiza el versículo actual o el primero
                displayArea.innerHTML = ''; // Asegurarse de que el área de visualización esté limpia
                renderVerse(id, monthStates[id].currentIndex);
                updateProgress(id); // Actualiza el contador en el título
            } else {
                contentElement.style.display = "none";
                titleElement.classList.remove('active');
                // Limpia el área de visualización al cerrar
                displayArea.innerHTML = '';
            }
        }

        /**
         * Renderiza un versículo específico en la tarjeta.
         * @param {string} monthId - El ID del mes.
         * @param {number} verseIndex - El índice del versículo a mostrar.
         */
        function renderVerse(monthId, verseIndex) {
            const displayArea = document.getElementById(`${monthId}-display-area`);
            const verses = versesData[monthId];
            
            // Si ya hay una tarjeta, no la limpiamos inmediatamente, la animación la manejará
            // Solo limpiamos si no hay tarjetas o si estamos renderizando el primer versículo después de un reinicio/apertura
            if (displayArea.querySelector('.verse-card') === null || verseIndex === 0) {
                 displayArea.innerHTML = ''; // Limpiar contenido anterior solo si no hay tarjeta o es el inicio
            }

            if (verseIndex < verses.length) {
                const verse = verses[verseIndex];
                const verseCard = document.createElement('div');
                verseCard.className = 'verse-card';
                verseCard.innerHTML = `
                    <span class="verse-reference">${verse.reference}</span>
                    <p class="verse-text">"${verse.text}"</p>
                `;
                displayArea.appendChild(verseCard);
            } else {
                // No hay más versículos para mostrar, actualiza el progreso para mostrar el mensaje de aprobado/reprobado
                updateProgress(monthId);
            }
        }

        /**
         * Marca el versículo actual como conocido/no conocido y avanza al siguiente.
         * @param {string} monthId - El ID del mes.
         * @param {boolean} isKnown - True si el usuario lo conoce, false si no.
         */
        function markVerse(monthId, isKnown) {
            const currentMonthState = monthStates[monthId];
            const verses = versesData[monthId];
            const currentVerseIndex = currentMonthState.currentIndex;
            const displayArea = document.getElementById(`${monthId}-display-area`);
            const currentCard = displayArea.querySelector('.verse-card');

            if (currentVerseIndex < verses.length) {
                verses[currentVerseIndex].known = isKnown;
                if (isKnown) {
                    currentMonthState.knownCount++;
                    if (currentCard) {
                        currentCard.classList.add('slide-out-right');
                    }
                } else {
                    if (currentCard) {
                        currentCard.classList.add('slide-out-left');
                    }
                }

                // Esperar a que termine la animación antes de remover la tarjeta y renderizar la siguiente
                if (currentCard) {
                    const handleAnimationEnd = () => {
                        currentCard.removeEventListener('animationend', handleAnimationEnd); // Eliminar listener
                        currentCard.remove(); // Eliminar la tarjeta del DOM
                        currentMonthState.currentIndex++;
                        renderVerse(monthId, currentMonthState.currentIndex);
                        updateProgress(monthId); // Actualiza el contador en el título
                        saveState(); // Guardar el estado después de cada cambio
                    };
                    currentCard.addEventListener('animationend', handleAnimationEnd);
                } else {
                    // Si no hay tarjeta actual (ej. al inicio), simplemente avanzar
                    currentMonthState.currentIndex++;
                    renderVerse(monthId, currentMonthState.currentIndex);
                    updateProgress(monthId); // Actualiza el contador en el título
                    saveState(); // Guardar el estado después de cada cambio
                }
            }
        }

        /**
         * Actualiza el texto de progreso para un mes y muestra el mensaje de aprobado/reprobado.
         * @param {string} monthId - El ID del mes.
         */
        function updateProgress(monthId) {
            const monthCounterElement = document.getElementById(`${monthId}-counter`);
            const displayArea = document.getElementById(`${monthId}-display-area`);
            const currentMonthState = monthStates[monthId];
            const total = currentMonthState.totalVerses;
            const current = currentMonthState.currentIndex;
            const known = currentMonthState.knownCount;

            // Actualizar el contador en el título del mes
            if (monthCounterElement) {
                monthCounterElement.textContent = `${known}/${total}`;
            }

            // Limpiar cualquier mensaje de completado previo en el área de visualización,
            // pero solo si no hay una tarjeta de versículo activa.
            if (displayArea.querySelector('.verse-card') === null) {
                displayArea.innerHTML = '';
            }
            
            // Mostrar mensaje de completado si todos los versículos han sido presentados
            if (current >= total) {
                if (known === total) {
                    const completionMessage = document.createElement('div');
                    completionMessage.className = 'completion-message success';
                    completionMessage.textContent = '¡Felicidades! Has aprobado todos los versículos de este mes.';
                    displayArea.appendChild(completionMessage);
                } else {
                    const completionMessage = document.createElement('div');
                    completionMessage.className = 'completion-message failure';
                    completionMessage.textContent = `Necesitas repasar. Para aprobar, debes conocer los ${total} versículos. Conociste ${known}.`;
                    displayArea.appendChild(completionMessage);
                }
            }
        }

        /**
         * Reinicia el progreso de aprendizaje para un mes.
         * @param {string} monthId - El ID del mes.
         */
        function resetMonthProgress(monthId) {
            const currentMonthState = monthStates[monthId];
            currentMonthState.currentIndex = 0;
            currentMonthState.knownCount = 0;
            versesData[monthId].forEach(verse => verse.known = false); // Resetear estado de conocimiento
            // Asegurarse de que el área de visualización esté limpia antes de renderizar el primer versículo
            document.getElementById(`${monthId}-display-area`).innerHTML = '';
            renderVerse(monthId, currentMonthState.currentIndex);
            updateProgress(monthId); // Actualiza el contador en el título
            saveState(); // Guardar el estado después de reiniciar
        }

        /**
         * Reinicia el progreso de todos los meses a sus valores iniciales.
         */
        function resetAllProgress() {
            for (const monthId in versesData) {
                monthStates[monthId].currentIndex = 0;
                monthStates[monthId].knownCount = 0;
                versesData[monthId].forEach(verse => verse.known = false);
            }
            saveState(); // Guardar el estado reiniciado
            // Recargar la página o actualizar la UI para reflejar el reinicio completo
            location.reload(); 
        }

        // Inicializar los contadores de todos los meses al cargar la página
        window.onload = function() {
            loadState(); // Cargar el estado al iniciar la aplicación
            for (const monthId in versesData) {
                updateProgress(monthId);
            }
        };
    </script>

</body>
</html>
